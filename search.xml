<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[hexoå‘å¸ƒåˆ°GitHubå‡ºçŽ°404]]></title>
    <url>%2F2018%2F11%2F16%2Fhexo%E5%8F%91%E5%B8%83%E5%88%B0GitHub%E5%87%BA%E7%8E%B0404%2F</url>
    <content type="text"><![CDATA[é—®é¢˜: hexo é…ç½® GitHub repository ä»“åº“æ— è¯¯ï¼Œä¸Šä¼ åˆ°GitHubä¹Ÿæ­£å¸¸ï¼Œä½†æ‰“å¼€https://xxx.github.io/æ˜¾ç¤º404 è¿‡ç¨‹: æˆ‘å‰åŽåˆ›å»ºè¿‡ä¸¤ä¸ªGitHub repositoryï¼Œéƒ½æ˜¯åŒåï¼Œç¬¬ä¸€æ¬¡ä¸Šä¼ åˆ°GitHubæˆåŠŸåŽåŽŸæ¥æœ‰ä¸Šä¼ è¿‡GitHubå¹¶ä¸”è®¿é—®https://xxx.github.io/æ˜¯æ­£å¸¸çš„ã€‚åŽé¢æˆ‘åˆ æŽ‰äº† repository ä¸”é‡æ–°åˆ›å»ºä¸€ä¸ªåŒæ ·çš„ï¼Œç„¶åŽå†æ¬¡ä¸Šä¼ ï¼ŒGitHub ä¸Šé¢çš„é…ç½®ä¿¡æ¯å’Œ _config.yml çš„é…ç½®ä¿¡æ¯éƒ½æ— è¯¯ï¼Œä½†å†æ¬¡è®¿é—®å°±å‡ºçŽ°404ã€‚ å°è¯•è§£å†³æ–¹æ³•: ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åŽè®¿é—®è¿˜æ˜¯40412hexo cleanhexo d ç½‘ä¸Šæ‰¾ä¸åˆ°ç±»ä¼¼æƒ…å†µåŽï¼Œæƒ³äº†ä¸‹ä¼šä¸ä¼šè·Ÿ Git æœ‰å…³ï¼Œç„¶åŽçœ‹äº†ä¸‹æœ¬åœ°çŽ¯å¢ƒä¸‹çš„hexoæ–‡ä»¶å¤¹é‡Œçš„ .deploy_git æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ hexo d å‘½ä»¤åŽæ­¤æ–‡ä»¶å¤¹é‡Œçš„å†…å®¹ä¼šé‡æ–°ç”Ÿæˆï¼Œä½† .git æ–‡ä»¶å¤¹é‡Œé¢çš„æ–‡ä»¶æœ‰äº›è¿˜æ˜¯æ—§çš„ï¼Œæžœæ–­åˆ é™¤æ­¤æ–‡ä»¶å¤¹å¹¶é‡æ–°æ‰§è¡Œ hexo d ï¼Œè¿™æ¬¡è®¿é—®æžœç„¶æ­£å¸¸äº†ã€‚ðŸ˜„ æ€»ç»“: GitHub åˆ æŽ‰ repository åŽï¼Œæœ¬åœ°çŽ¯å¢ƒå¯¹åº”çš„hexoæ–‡ä»¶å¤¹é‡Œçš„ .deploy_git/.git æ–‡ä»¶å¤¹æ²¡æœ‰åˆ é™¤æŽ‰ï¼Œè¿™æ ·é‡æ–°æ‰§è¡Œ hexo d å‘½ä»¤åŽèƒ½æ­£å¸¸ä¸Šä¼ åˆ° GitHub ä½†è®¿é—®å´ä¼šå‡ºçŽ°404ã€‚]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[log4neté…ç½®]]></title>
    <url>%2F2018%2F11%2F16%2Flog4net%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[CSç¨‹åº è¿›å…¥éœ€è¦é…ç½®log4netçš„é¡¹ç›®ç›®å½•ä¸‹,å®‰è£…æˆ–å¼•ç”¨log4net; å³é”®-ç®¡ç†NuGetç¨‹åºåŒ…,æœç´¢â€log4netâ€å¹¶å®‰è£…; å¼•ç”¨å·²ä¸‹è½½çš„log4net.dllæ–‡ä»¶. ç¨‹åºå¯åŠ¨æ—¶è¯»å–log4netçš„é…ç½®æ–‡ä»¶,åœ¨AssemblyInfo.csä¸­åŠ å…¥ [assembly: log4net.Config.XmlConfigurator(ConfigFile = &quot;app.config&quot;, Watch = true)]; åœ¨åŽŸæœ‰çš„app.configä¸ŠåŠ å…¥log4netçš„è¾“å‡ºé…ç½®ä¿¡æ¯; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384&lt;configSections&gt; &lt;section name=&quot;log4net&quot; type=&quot;log4net.Config.Log4NetConfigurationSectionHandler, log4net&quot; /&gt;&lt;/configSections&gt;&lt;log4net&gt; &lt;root&gt; &lt;!--åœ¨æŽ§åˆ¶å°æ‰“å°log--&gt; &lt;level value=&quot;ALL&quot; /&gt; &lt;appender-ref ref=&quot;ConsoleAppender&quot; /&gt; &lt;/root&gt; &lt;logger name=&quot;debugLog&quot;&gt; &lt;level value=&quot;DEBUG&quot;/&gt; &lt;appender-ref ref=&quot;DebugLogFileAppender&quot; /&gt; &lt;/logger&gt; &lt;logger name=&quot;infoLog&quot;&gt; &lt;level value=&quot;INFO&quot;/&gt; &lt;appender-ref ref=&quot;InfoLogFileAppender&quot; /&gt; &lt;/logger&gt; &lt;logger name=&quot;warnLog&quot;&gt; &lt;level value=&quot;WARN&quot;/&gt; &lt;appender-ref ref=&quot;WarnLogFileAppender&quot; /&gt; &lt;/logger&gt; &lt;logger name=&quot;errorLog&quot;&gt; &lt;level value=&quot;ERROR&quot;/&gt; &lt;appender-ref ref=&quot;ErrorFileAppender&quot; /&gt; &lt;/logger&gt; &lt;appender name=&quot;DebugLogFileAppender&quot; type=&quot;log4net.Appender.RollingFileAppender&quot; &gt; &lt;Encoding value=&quot;UTF-8&quot; /&gt; &lt;param name=&quot;AppendToFile&quot; value=&quot;true&quot; /&gt; &lt;param name=&quot;File&quot; value=&quot;D:\\MSD_Logs\\Debug\\&quot; /&gt; &lt;param name=&quot;MaxFileSize&quot; value=&quot;10240&quot; /&gt; &lt;param name=&quot;MaxSizeRollBackups&quot; value=&quot;100&quot; /&gt; &lt;param name=&quot;RollingStyle&quot; value=&quot;Date&quot; /&gt; &lt;param name=&quot;StaticLogFileName&quot; value=&quot;false&quot; /&gt; &lt;param name=&quot;DatePattern&quot; value=&quot;yyyyMMdd&amp;quot;.log&amp;quot;&quot; /&gt; &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt; &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d|`%-5p|`%m%n&quot; /&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name=&quot;InfoLogFileAppender&quot; type=&quot;log4net.Appender.RollingFileAppender&quot; &gt; &lt;Encoding value=&quot;UTF-8&quot; /&gt; &lt;param name=&quot;AppendToFile&quot; value=&quot;true&quot; /&gt; &lt;param name=&quot;File&quot; value=&quot;D:\\MSD_Logs\\Info\\&quot; /&gt; &lt;param name=&quot;MaxFileSize&quot; value=&quot;10240&quot; /&gt; &lt;param name=&quot;MaxSizeRollBackups&quot; value=&quot;100&quot; /&gt; &lt;param name=&quot;RollingStyle&quot; value=&quot;Date&quot; /&gt; &lt;param name=&quot;StaticLogFileName&quot; value=&quot;false&quot; /&gt; &lt;param name=&quot;DatePattern&quot; value=&quot;yyyyMMdd&amp;quot;.log&amp;quot;&quot; /&gt; &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt; &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d|`%-5p|`%m%n&quot; /&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name=&quot;WarnLogFileAppender&quot; type=&quot;log4net.Appender.RollingFileAppender&quot; &gt; &lt;Encoding value=&quot;UTF-8&quot; /&gt; &lt;param name=&quot;AppendToFile&quot; value=&quot;true&quot; /&gt; &lt;param name=&quot;File&quot; value=&quot;D:\\MSD_Logs\\Warn\\&quot; /&gt; &lt;param name=&quot;MaxFileSize&quot; value=&quot;10240&quot; /&gt; &lt;param name=&quot;MaxSizeRollBackups&quot; value=&quot;100&quot; /&gt; &lt;param name=&quot;RollingStyle&quot; value=&quot;Date&quot; /&gt; &lt;param name=&quot;StaticLogFileName&quot; value=&quot;false&quot; /&gt; &lt;param name=&quot;DatePattern&quot; value=&quot;yyyyMMdd&amp;quot;.log&amp;quot;&quot; /&gt; &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt; &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d|`%-5p|`%m%n&quot; /&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name=&quot;ErrorFileAppender&quot; type=&quot;log4net.Appender.RollingFileAppender&quot; &gt; &lt;Encoding value=&quot;UTF-8&quot; /&gt; &lt;param name=&quot;AppendToFile&quot; value=&quot;true&quot; /&gt; &lt;param name=&quot;File&quot; value=&quot;D:\\MSD_Logs\\Error\\&quot; /&gt; &lt;param name=&quot;MaxFileSize&quot; value=&quot;10240&quot; /&gt; &lt;param name=&quot;MaxSizeRollBackups&quot; value=&quot;100&quot; /&gt; &lt;param name=&quot;RollingStyle&quot; value=&quot;Date&quot; /&gt; &lt;param name=&quot;StaticLogFileName&quot; value=&quot;false&quot; /&gt; &lt;param name=&quot;DatePattern&quot; value=&quot;yyyyMMdd&amp;quot;.log&amp;quot;&quot; /&gt; &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt; &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d|`%-5p|`%m%n&quot; /&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name=&quot;ConsoleAppender&quot; type=&quot;log4net.Appender.ConsoleAppender&quot; &gt; &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt; &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d|`%-5p|`%m%n&quot; /&gt; &lt;/layout&gt; &lt;/appender&gt;&lt;/log4net&gt; å¦‚éœ€è¯»å–æ–°çš„é…ç½®æ–‡ä»¶,å¯åœ¨ç¨‹åºçš„è°ƒç”¨æ–¹æ³•å‰åŠ å…¥ log4net.Config.XmlConfigurator.Configure(new FileInfo(&quot;log4net.xml&quot;))å¼ºåˆ¶è¯»å–æ–°çš„é…ç½®æ–‡ä»¶. ç±»åº“å°è£… æ·»åŠ ä¸€ä¸ªç±»åº“é¡¹ç›®,å®‰è£…æˆ–å¼•ç”¨log4net; å³é”®-ç®¡ç†NuGetç¨‹åºåŒ…,æœç´¢â€log4netâ€å¹¶å®‰è£…; å¼•ç”¨å·²ä¸‹è½½çš„log4net.dllæ–‡ä»¶. åœ¨ç±»åº“ä¸­æ·»åŠ ä¸€ä¸ªlog4netçš„é…ç½®æ–‡ä»¶ï¼Œèµ·åï¼šlog4net.configï¼Œå¹¶è®¾ç½®æ­¤æ–‡ä»¶çš„å±žæ€§å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ä¸ºï¼šå§‹ç»ˆå¤åˆ¶ã€‚ ä¸è®¾ç½®æ­¤å±žæ€§,å¯èƒ½ä¼šå‡ºçŽ°æ—¥å¿—å†™ä¸æˆåŠŸ ç¨‹åºå¯åŠ¨æ—¶è¯»å–log4netçš„é…ç½®æ–‡ä»¶,åœ¨AssemblyInfo.csä¸­åŠ å…¥ [assembly: log4net.Config.XmlConfigurator(ConfigFile = &quot;log4net.config&quot;, Watch = true)]; åœ¨ç±»åº“ä¸­æ·»åŠ ä¸€ä¸ªLogHelperç±»ï¼Œç”¨æ¥è°ƒç”¨log4netè¾“å‡ºæ—¥å¿—; åœ¨å…¶å®ƒé¡¹ç›®ä¸­å¼•ç”¨è¿™ä¸ªç±»åº“ï¼Œå¹¶åœ¨æ­¤é¡¹ç›®ç›®å½•ä¸‹æ–°å»ºlog4net.configå¹¶ä¿®æ”¹é‡Œé¢çš„é…ç½®ä¿¡æ¯,åœ¨è°ƒç”¨æ­¤é¡¹ç›®çš„å†™æ—¥å¿—åŠŸèƒ½æ—¶å°±èƒ½è¯»å–æ–°çš„é…ç½®ä¿¡æ¯. WebService è¿›å…¥éœ€è¦é…ç½®log4netçš„é¡¹ç›®ç›®å½•ä¸‹,å®‰è£…log4net; å³é”®-ç®¡ç†NuGetç¨‹åºåŒ…,æœç´¢â€log4netâ€å¹¶å®‰è£…; å¼•ç”¨å·²ä¸‹è½½çš„log4net.dllæ–‡ä»¶. ç¨‹åºå¯åŠ¨æ—¶è¯»å–log4netçš„é…ç½®æ–‡ä»¶,åœ¨AssemblyInfo.csä¸­åŠ å…¥ [assembly: log4net.Config.XmlConfigurator(ConfigFile = &quot;web.config&quot;, Watch = true)]; åœ¨åŽŸæœ‰çš„web.configä¸ŠåŠ å…¥log4netçš„è¾“å‡ºé…ç½®ä¿¡æ¯; eg.å‚è€ƒ ä¸Šé¢CSç¨‹åºä¸­çš„ç¬¬ä¸‰ç‚¹ ä¸åŒæŽ¥å£è°ƒç”¨ä¸åŒçš„log4neté…ç½®ä¿¡æ¯(é…ç½®ä¸åŒå¯ä»¥å®žçŽ°ä¸ä¸€æ ·çš„æ—¥å¿—è¾“å‡ºæ ¼å¼è¦æ±‚),åœ¨å„ä¸ªæŽ¥å£è°ƒç”¨çš„[webService]ç±»é‡Œæ·»åŠ æž„é€ æ–¹æ³•; eg. [WebService].asmx.csæ–‡ä»¶ä¸­åŠ å…¥ 1234public WebService()&#123; log4net.Config.XmlConfigurator.ConfigureAndWatch(new System.IO.FileInfo(AppDomain.CurrentDomain.SetupInformation.ApplicationBase + &quot;log4net.config&quot;));&#125; WebServiceä¸ºå¯¹åº”çš„æŽ¥å£ç±»å WCFServiceå¯„å®¿IIS è¿›å…¥éœ€è¦é…ç½®log4netçš„é¡¹ç›®ç›®å½•ä¸‹,å®‰è£…log4net; å³é”®-ç®¡ç†NuGetç¨‹åºåŒ…,æœç´¢â€log4netâ€å¹¶å®‰è£…; å¼•ç”¨å·²ä¸‹è½½çš„log4net.dllæ–‡ä»¶. ç¨‹åºå¯åŠ¨æ—¶è¯»å–log4netçš„é…ç½®æ–‡ä»¶,åœ¨AssemblyInfo.csä¸­åŠ å…¥ [assembly: log4net.Config.XmlConfigurator(ConfigFile = &quot;web.config&quot;, Watch = true)]; åœ¨åŽŸæœ‰çš„web.configä¸ŠåŠ å…¥log4netçš„è¾“å‡ºé…ç½®ä¿¡æ¯; eg.å‚è€ƒ ä¸Šé¢CSç¨‹åºä¸­çš„ç¬¬ä¸‰ç‚¹ [CustomService].svc.csåŠ å…¥è‡ªå®šä¹‰ServiceHostã€ServiceHostFactoryç±»,åœ¨è‡ªå®šä¹‰çš„ServiceHostå®žä¾‹ä¸­æ³¨å†Œlog4netå¯åŠ¨æ—¥å¿—è®°å½•; 12345678910111213141516171819202122232425#region ä½¿ç”¨è‡ªå®šä¹‰ServiceHostå®žçŽ°åŠ è½½log4neté…ç½®æ–‡ä»¶public class CustomServiceHostFactory : ServiceHostFactory&#123; protected override ServiceHost CreateServiceHost( Type serviceType, Uri[] baseAddresses) &#123; CustomServiceHost customServiceHost = new CustomServiceHost(serviceType, baseAddresses); return customServiceHost; &#125;&#125;public class CustomServiceHost : ServiceHost&#123; public CustomServiceHost(Type serviceType, params Uri[] baseAddresses) : base(serviceType, baseAddresses) &#123; log4net.Config.XmlConfigurator.Configure(); &#125; protected override void ApplyConfiguration() &#123; base.ApplyConfiguration(); &#125;&#125;#endregion å³é”®[CustomService].svcæ–‡ä»¶-æŸ¥çœ‹æ ‡è®°ä¸­åŠ å…¥`Factoryå±žæ€§; eg. Factory=â€œTechsun.Adidas.WcfSvc.CustomServiceHostFactoryâ€ CustomServiceä¸ºå¯¹åº”çš„wcfæœåŠ¡ç±»å]]></content>
      <categories>
        <category>C#</category>
      </categories>
      <tags>
        <tag>C#</tag>
        <tag>log4net</tag>
        <tag>WebService</tag>
        <tag>wcf</tag>
      </tags>
  </entry>
</search>
